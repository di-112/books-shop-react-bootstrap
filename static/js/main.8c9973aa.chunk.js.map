{"version":3,"sources":["compopents/input.jsx","compopents/header.jsx","API/API.jsx","redux/reducers/booksReducer.js","redux/reducers/cartReducer.js","compopents/book.jsx","compopents/books.jsx","compopents/loader.jsx","compopents/cartItem.jsx","compopents/pages/cart.jsx","compopents/alert.jsx","compopents/pages/home.jsx","App.js","redux/store.js","reportWebVitals.js","index.js"],"names":["SearchForm","handleSubmit","className","onSubmit","Field","component","name","type","placeholder","aria-label","reduxForm","form","Header","props","to","exact","onClick","setBooks","aria-current","href","src","alt","id","title","choosenBooks","length","array","sum","i","count","summa","formData","searchBook","book","API","getBooks","axios","then","response","data","SET_BOOKS","SEARCH_BOOK","TOGGLE_IS_LOADING","SET_ALERT","initialState","books","isLoading","alert","booksReducer","state","action","setBooksAC","toogleIsLoading","changeAlert","dispatch","ADD_BOOK","REMOVE_BOOK","INCREMENT_COUNT_BOOK","DECREMENT_COUNT_BOOK","allPrice","price","cartReducer","concat","filter","map","includes","addBook","removeBook","connect","cart","class","image","author","rating","e","preventDefault","sortPriceDown","sort","a","b","sortPriceUp","Loader","role","incrementCountBook","decrementCountBook","disabled","target","style","textAlign","Alert","message","show","compose","withRouter","searchedBook","bookTitle","console","log","isFoundBook","forEach","searchBookAC","useEffect","path","render","redusers","combineReducers","formReducer","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c9973aa.chunk.js","sourcesContent":["import React from 'react'\r\nimport { reduxForm } from 'redux-form'\r\nimport { Field } from 'redux-form'\r\n\r\nlet  SearchForm = ({handleSubmit}) => {\r\n   return (\r\n      <form className=\"d-flex\" onSubmit={handleSubmit}>\r\n      <Field component='input' className=\"form-control mr-2\" name='book' type=\"search\" placeholder=\"Edit book...\" aria-label=\"Search\"/>\r\n       <button className=\"btn btn-outline-success\" type='submit'> Search</button> \r\n   </form>\r\n   )\r\n}\r\n\r\nSearchForm = reduxForm({form: 'searchForm'})(SearchForm)\r\n\r\nexport  default SearchForm","import React, { useState } from 'react'\r\nimport { NavLink, Redirect } from 'react-router-dom'\r\nimport SearchForm from './input'\r\n\r\nconst logoImg = 'https://f0.pngfuel.com/png/1024/338/computer-icons-e-book-e-readers-book-png-clip-art-thumbnail.png'\r\n\r\nconst Header = (props) => {\r\n\r\n   const searchBook = (formData) => {\r\n      props.searchBook(formData.book)\r\n   }  \r\n\r\n   \r\n   const summa = (array) => {\r\n      let sum=0\r\n      for(let i=0; i<array.length; i++){\r\n         sum=sum+array[i].count\r\n      }\r\n      return sum\r\n}\r\n\r\n   return ( \r\n      <header className=\"header navbar navbar-expand-lg navbar-light bg-light\">\r\n         <div className=\"header__container\">\r\n            <NavLink to='/home' exact onClick={props.setBooks} className=\"navbar-brand\" aria-current=\"page\" href=\"#\">\r\n               <img src={logoImg} alt=\"\"/>\r\n            </NavLink>\r\n            <div className=\"header__menu collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n               <ul className=\"header__links navbar-nav mr-auto mb-2 mb-lg-0\">\r\n                  <li className=\"nav-item\">\r\n                     <NavLink to='/home' exact className=\"nav-link\" aria-current=\"page\" onClick={props.setBooks} href=\"#\">Home</NavLink>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                     <NavLink to='/cart' className=\"nav-link\" aria-current=\"page\" href=\"#\">Cart</NavLink>\r\n                  </li>\r\n               </ul>\r\n               <NavLink to='/cart' className=\"cartIcon d-flex\" aria-current=\"page\" href=\"#\">\r\n                  <img  title='Корзина' src='https://baden-shop.ru/images/basket.png' alt=\"\"/>\r\n                  {props.choosenBooks.length?<span >{summa(props.choosenBooks)}</span>:''}\r\n               </NavLink>\r\n              <SearchForm onSubmit={searchBook}/>\r\n            </div>\r\n         </div>\r\n      </header>\r\n   )\r\n}\r\n\r\nexport default Header","import * as axios from 'axios'\r\n\r\nconst baseURL = 'https://web-shop-fd168-default-rtdb.firebaseio.com/books.json'\r\n\r\nconst API = {\r\n   getBooks: ()=>{\r\n     return axios.get(baseURL).then(response => response.data)\r\n   }\r\n}\r\n\r\nexport default API","import API from '../../API/API'\r\n\r\nconst SET_BOOKS = 'booksReducer/SET_BOOKS'\r\nconst SEARCH_BOOK = 'booksReducer/SEARCH_BOOK'\r\nconst TOGGLE_IS_LOADING = 'booksReducer/TOGGLE_IS_LOADING'\r\nconst SET_ALERT = 'booksReducer/SET_ALERT'\r\n\r\nconst initialState = {\r\n   books: [],\r\n   isLoading: false,\r\n   alert: {},\r\n}\r\n\r\nconst booksReducer = (state=initialState, action) => {\r\n   let tst = []\r\n   switch(action.type){\r\n      case SET_BOOKS: \r\n      return ( {\r\n         ...state,\r\n         books: action.books?[...action.books]:[...state.books],\r\n      })\r\n      case SEARCH_BOOK: \r\n      return ( {\r\n         ...state,\r\n         books:[ action.book]\r\n      })\r\n      case TOGGLE_IS_LOADING: \r\n      return ( {\r\n         ...state,\r\n         isLoading: action.isLoading\r\n      })\r\n      case SET_ALERT: \r\n      return ( {\r\n         ...state,\r\n         alert: {...action.alert}\r\n      })\r\n      default: return  {...state}\r\n   }\r\n}\r\n\r\nexport default booksReducer\r\n\r\nconst setBooksAC = (books) => ({type: SET_BOOKS, books})\r\nconst searchBookAC = (book) => ({type: SEARCH_BOOK, book})\r\nconst toogleIsLoading = (isLoading) => ({type: TOGGLE_IS_LOADING, isLoading})\r\nexport const changeAlert = (alert) => ({type: SET_ALERT, alert})\r\n\r\nexport const setBooks = () => (dispatch) => {\r\n   dispatch(toogleIsLoading(true))\r\n   dispatch(changeAlert(false))\r\n   API.getBooks().then(data => {\r\n      dispatch(setBooksAC([...data]))\r\n      dispatch(toogleIsLoading(false))\r\n   })\r\n}\r\n\r\nexport const sortPriceDown = () => (dispatch) => {\r\n   dispatch(toogleIsLoading(true))\r\n   API.getBooks().then(data => {\r\n      dispatch(setBooksAC([...data].sort( (a,b) => b.price-a.price)))\r\n      dispatch(toogleIsLoading(false))\r\n   })\r\n}\r\n\r\nexport const sortPriceUp = () => (dispatch) => {\r\n   dispatch(toogleIsLoading(true))\r\n   API.getBooks().then(data => {\r\n      dispatch(setBooksAC([...data].sort( (a,b) => a.price-b.price)))\r\n      dispatch(toogleIsLoading(false))\r\n   })\r\n}\r\n\r\nexport const searchBook = (bookTitle) => (dispatch) => {\r\n   dispatch(toogleIsLoading(true))\r\n   console.log('response.data')\r\n   API.getBooks().then(data => {\r\n      let isFoundBook = false  \r\n      data.forEach(book => {\r\n        if(book.title===bookTitle){\r\n            dispatch(searchBookAC(book))\r\n            isFoundBook = true\r\n         }\r\n      })   \r\n      if(!isFoundBook)dispatch(changeAlert({type:'danger', show: true}))\r\n      dispatch(toogleIsLoading(false))\r\n   })\r\n}","const ADD_BOOK = 'cartReducer/ADD_BOOK'\r\nconst REMOVE_BOOK = 'cartReducer/REMOVE_BOOK' \r\nconst INCREMENT_COUNT_BOOK = 'cartReducer/INCREMENT_COUNT_BOOK' \r\nconst DECREMENT_COUNT_BOOK = 'cartReducer/DECREMENT_COUNT_BOOK' \r\n\r\n\r\nconst initialState = {\r\n   choosenBooks: [],\r\n   allPrice: 0\r\n}\r\n\r\nconst summa = (array) => {\r\n   let sum=0\r\n   for(let i=0; i<array.length; i++){\r\n      sum=sum+array[i].price*array[i].count\r\n   }\r\n   return sum\r\n}\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n   let choosenBooks=[]\r\n   let allPrice=0\r\n   switch(action.type){\r\n      case ADD_BOOK:\r\n            choosenBooks = state.choosenBooks.concat([{ ...action.book, count: 1 }])\r\n            allPrice = summa(choosenBooks)\r\n            return (\r\n               {\r\n                  ...state,\r\n                  choosenBooks,\r\n                  allPrice\r\n               })\r\n\r\n      case REMOVE_BOOK: \r\n          choosenBooks=state.choosenBooks.filter(book=>book.title!=action.book.title)\r\n          allPrice=summa(choosenBooks)\r\n         return (\r\n         {\r\n            ...state,\r\n            choosenBooks,\r\n            allPrice\r\n         })\r\n\r\n      case INCREMENT_COUNT_BOOK: \r\n         if (state.choosenBooks.map(book=>book.title).includes(action.book.title)) {\r\n            choosenBooks = state.choosenBooks.map(book=>{\r\n               if(book.title===action.book.title) return {...book, count: book.count+1}\r\n               else return book\r\n            })\r\n            allPrice = summa(choosenBooks)\r\n            return (\r\n               {\r\n                  ...state,\r\n                  choosenBooks,\r\n                  allPrice\r\n               }\r\n            )\r\n         }\r\n         else return {...state}\r\n\r\n      case DECREMENT_COUNT_BOOK: \r\n         if (state.choosenBooks.map(book=>book.title).includes(action.book.title)) {\r\n            choosenBooks = state.choosenBooks.map(book=>{\r\n               if(book.title===action.book.title&&book.count>1) return {...book, count: book.count-1}\r\n               else return book\r\n            })\r\n            allPrice = summa(choosenBooks)\r\n            return (\r\n               {\r\n                  ...state,\r\n                  choosenBooks,\r\n                  allPrice\r\n               })\r\n         }\r\n         else return {...state}\r\n      default: return ({...state})\r\n   }\r\n}\r\n\r\nexport default cartReducer\r\n\r\nexport const addBook = (book) => ({type: ADD_BOOK, book})\r\n\r\nexport const incrementCountBook = (book) => ({type: INCREMENT_COUNT_BOOK, book})\r\n\r\nexport const decrementCountBook = (book) => ({type: DECREMENT_COUNT_BOOK, book})\r\n\r\nexport const removeBook = (book) => ({type: REMOVE_BOOK, book})\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addBook, removeBook } from '../redux/reducers/cartReducer'\r\n\r\nconst Book = ({book, addBook, choosenBooks, removeBook}) => {\r\n   return (\r\n     <div class=\"card book\" >\r\n        <img src={book.image} class=\"card-img-top book__img\" alt=\"...\"/>\r\n        <div class=\"card-body book__body\">\r\n           <h5 class=\"card-title\">{book.title}</h5>\r\n           <ul className=\"list-group list-group-flush\">\r\n              <li className=\"list-group-item\"><span> Автор:</span> {book.author}</li>\r\n              <li className=\"list-group-item\"><span>Цена:</span> {book.price} руб.</li>\r\n              <li className=\"list-group-item\"><span>Рейтинг:</span> {book.rating}/5</li>\r\n          </ul>\r\n          <div className=\"btn_container\">\r\n               {choosenBooks.map(book => book.title).includes(book.title) ?\r\n                  <button onClick={(e) => { e.preventDefault(); removeBook(book) }} className=\"btn btn-danger\"> Удалить</button>:\r\n                  <button onClick={(e) => { e.preventDefault(); addBook(book) }} className=\"btn btn-primary\"> Добавить</button>\r\n               }\r\n          </div>\r\n         </div>\r\n      </div>\r\n            )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  choosenBooks: state.cart.choosenBooks\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps,{addBook,removeBook})(Book)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setBooks, sortPriceDown, sortPriceUp } from '../redux/reducers/booksReducer'\r\nimport Book from './book'\r\n\r\nconst Books = ({books, setBooks, sortPriceDown, sortPriceUp}) => {\r\n   if(books.length===1)\r\n   return (\r\n      <div className=\"search container\">\r\n         {books.map(book => <Book key={book.title} book={book}/>)}\r\n         <button className='btn btn-danger' onClick={setBooks}>Назад</button>\r\n      </div>\r\n   )\r\n   else\r\n   return (\r\n      <>\r\n      <div className=\"sortBooksBtns container\">\r\n         <button className='btn btn-secondary' onClick={sortPriceDown}>Цена ↓</button>\r\n         <button className='btn btn-secondary' onClick={sortPriceUp}>Цена ↑</button>\r\n         <button className='btn btn-secondary' onClick={setBooks}>Сбросить</button>\r\n      </div>\r\n      <div className='books container'>\r\n         {books && books.map(book => <Book key={book.title} book={book}/>)}\r\n      </div>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default connect(()=>{}, {setBooks,sortPriceDown, sortPriceUp})(Books)","import React from 'react'\r\n\r\nconst Loader = () => {\r\n   return (\r\n      <div className=\"spinner\">\r\n         <div className=\"spinner-border text-dark\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { addBook, decrementCountBook, incrementCountBook } from '../redux/reducers/cartReducer';\r\n\r\nconst CardItem = ({book, removeBook, incrementCountBook,decrementCountBook}) => {\r\n   return (\r\n   <div key={book.title}>\r\n      <div className=\"cart__book\">\r\n         <img src={book.image} alt=\"\" className=\"book__img\"/>\r\n         <span className=\"book__title\">{book.title}</span>\r\n         <div className='book_count'>      \r\n            <button className='btn btn-danger'  disabled={book.count===1} onClick={(e)=>{e.preventDefault() ; decrementCountBook(book)}}>-</button>\r\n            <span className=''> {book.count} шт. </span>\r\n            <button className='btn btn-success' onClick={(e)=>{e.preventDefault() ; incrementCountBook(book)}}>+</button>     \r\n         </div>\r\n         <span className='book__price'>{book.price} руб.</span>\r\n         <button className='btn btn-danger' onClick={(e)=>{e.preventDefault() ; removeBook(book)}}>Удалить</button>\r\n      </div>\r\n   </div>\r\n   )\r\n}\r\n\r\nexport default connect(()=>{}, {incrementCountBook, decrementCountBook})(CardItem) ","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { addBook, removeBook } from '../../redux/reducers/cartReducer'\r\nimport CardItem from '../cartItem'\r\n\r\nconst Cart = (props) => {\r\n\r\n   return (\r\n      <div className=\"cart container\">\r\n         {props.choosenBooks.length?\r\n            <>\r\n            <ul>\r\n            {props.choosenBooks.map(book=><li><CardItem book={book} removeBook={props.removeBook} addBook={props.addBook}/></li>)}\r\n            </ul>\r\n           <div className=\"cart__price\">Общая сумма: <span>{props.allPrice} рублей</span> <a className='btn btn-success' href='https://qiwi.com/' target='_blank' >Купить</a></div>\r\n            </>\r\n            :<div className='cartEmpty'>\r\n               <p style={{textAlign: 'center'}}>Корзина пуста</p>\r\n               <NavLink to='/' exact type=\"button\" class=\"btn btn-danger\">Back</NavLink>\r\n            </div>}\r\n      </div>\r\n   )\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n   choosenBooks: state.cart.choosenBooks,\r\n   allPrice: state.cart.allPrice\r\n })\r\n\r\nexport default connect(mapStateToProps, {addBook,removeBook})(Cart)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Alert = (props) => {\r\n   const className = props.alert.type === 'danger'?'alert-danger':\r\n   props.alert.type === 'success'?'alert-success':'alert-warning'\r\n   \r\n   let message = ''\r\n\r\n   switch(className){\r\n      case 'alert-danger': message = 'Книга не найдена'; break\r\n      case 'alert-success': message = 'Книга найдена'; break\r\n      case 'alert-warning': message = 'Что-то пошло не так'; break\r\n      default: break\r\n   }\r\n\r\n   return (  \r\n        <div className={`alert ${className}`}> \r\n            <span> <strong>Внимание!</strong> {message} </span>\r\n            <button  onClick={() => props.changeAlert({ show: false, type: '' })} type=\"button\" class=\"alert__closeBtn close\">&times;</button>\r\n         </div> \r\n   )\r\n}\r\n\r\nexport default Alert","import React from 'react'\r\nimport { changeAlert} from '../../redux/reducers/booksReducer';\r\nimport Alert  from '../alert';\r\nimport Books from '../books';\r\nimport { connect } from 'react-redux';\r\n\r\nconst HomePage = (props) => {\r\n   return ( \r\n      <>\r\n          {props.alert.show?<Alert alert={props.alert} changeAlert={props.changeAlert}/>:<Books books={props.books}/>}\r\n      </>\r\n   )\r\n} \r\n\r\nconst mapStateToProps = (state) =>({\r\n   books: state.books.books,\r\n   alert: state.books.alert\r\n })\r\n \r\n export default connect(mapStateToProps, {changeAlert})(HomePage);","import './scss/App.scss';\nimport Header from './compopents/header';\nimport Books from './compopents/books';\nimport { connect } from 'react-redux';\nimport Loader from './compopents/loader';\nimport { changeAlert, searchBook, setBooks } from './redux/reducers/booksReducer';\nimport { useEffect } from 'react';\nimport { Redirect, Route, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport Cart from './compopents/pages/cart';\nimport HomePage from './compopents/pages/home';\n\n\nfunction App(props) {\n\n  useEffect(()=>{\n   props.setBooks()\n  },[])\n\n  return (\n    <div className=\"App container-xxl\">\n      <Redirect to='/home' />\n      <Header setBooks={ props.setBooks} searchBook={props.searchBook} choosenBooks={props.choosenBooks}/>\n      {\n        props.isLoading ? <Loader /> :\n        <>\n          <Route path='/home' exact render={() => <HomePage/>}/>\n          <Route path='/cart' exact render={() => <Cart />}/>\n          \n        </>\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) =>({\n  books: state.books.books,\n  isLoading: state.books.isLoading,\n  alert: state.books.alert,\n  searchedBook: state.books.searchedBook,\n  choosenBooks: state.cart.choosenBooks\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {setBooks,searchBook, changeAlert})\n)(App)","import React from 'react'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport booksReducer from './reducers/booksReducer'\r\nimport thunk from 'redux-thunk'\r\nimport cartReducer from './reducers/cartReducer'\r\n\r\n\r\nconst redusers = combineReducers({ \r\n   form:  formReducer,\r\n   books: booksReducer,\r\n   cart: cartReducer\r\n})\r\n\r\nconst store = createStore(redusers, applyMiddleware(thunk))\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter >\n    <Provider store={store} >\n      <App />\n    </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}